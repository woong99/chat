# STOMP

## ğŸ“ í”„ë¡œì íŠ¸ ì„¤ëª…

WebSocketì˜ ë‹¨ì ì„ ê°œì„ í•˜ê¸° ìœ„í•´ STOMPë¥¼ ì´ìš©í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦, ì—¬ëŸ¬ ê°œì˜ ì±„íŒ…ë°© êµ¬ë…, 1ëŒ€1 ê°œì¸ ì±„íŒ… ë“±ì˜ ì—¬ëŸ¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•œ í”„ë¡œì íŠ¸ì´ë‹¤.

---

## ğŸ ê¸°ëŠ¥

### âœ… ë¡œê·¸ì¸ ë° íšŒì›ê°€ì…

<table>
<tr>
<td><img src="https://user-images.githubusercontent.com/76946536/216498100-c968c060-9242-4074-989c-d043b571b2f3.png" height="400" alt="ë¡œê·¸ì¸í™”ë©´"/></td>
<td><img src="https://user-images.githubusercontent.com/76946536/216498458-aaca78a5-dfef-4060-9cc7-b390ab27c7d7.png" height="400" alt="íšŒì›ê°€ì…í™”ë©´" /></td>
</tr>
</table>

- JWT í† í° ë°©ì‹ìœ¼ë¡œ ë¡œê·¸ì¸ì´ ì´ë£¨ì–´ì§„ë‹¤.

### âœ… ë©”ì¸í˜ì´ì§€

<table>
<tr>
<td>
<img src="https://user-images.githubusercontent.com/76946536/216498632-a24e60ec-2372-4c64-be35-c020db4b4c85.png" alt="ë©”ì¸í˜ì´ì§€" height="400" />
</td>
</tr>
</table>

### âœ… ê³µê°œì±„íŒ…ë°© ëª©ë¡ í˜ì´ì§€

<table>
<tr>
<td><img src="https://user-images.githubusercontent.com/76946536/216513964-d0bec5b9-b798-4183-9751-73f0a39cd4c9.png" alt="ê³µê°œì±„íŒ…ë°© ëª©ë¡ í˜ì´ì§€1" /></td>
<td><img src="https://user-images.githubusercontent.com/76946536/216513969-6d6bde31-f2fa-4ac1-811d-89b7e3c0b493.png" alt="ê³µê°œì±„íŒ…ë°© ëª©ë¡ í˜ì´ì§€2" /></td>
<td><img src="https://user-images.githubusercontent.com/76946536/216513971-7482d5cb-4958-46d4-a316-eb73cbc99a5b.png" alt="ê³µê°œì±„íŒ…ë°© ëª©ë¡ í˜ì´ì§€3" /></td>
</tr>
</table>

- ì±„íŒ…ë°© ì´ë¦„ì„ ì„¤ì •í•˜ì—¬ ë°©ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
- ì±„íŒ…ë°©ì— êµ¬ë…ì¤‘ì´ë©´ ì±„íŒ…ë°© ëª©ë¡ í˜ì´ì§€ì—ì„œ `êµ¬ë…ì¤‘`ì´ë¼ê³  í‘œì‹œëœë‹¤.
- êµ¬ë…ì¤‘ì¸ ì±„íŒ…ë°©ì— ë©”ì‹œì§€ê°€ ë“¤ì–´ì˜¤ë©´ ìˆ«ìë¡œ í‘œì‹œëœë‹¤. (ì½ì§€ ì•Šì€ ë©”ì‹œì§€)

### âœ… ê³µê°œì±„íŒ…ë°© ì±„íŒ… í˜ì´ì§€

<table>
<tr>
<td><img src="https://user-images.githubusercontent.com/76946536/216514547-2efe771e-0526-43ee-8357-fe5309bd63ed.png" alt="ê³µê°œì±„íŒ…ë°© ì±„íŒ… í˜ì´ì§€1"/></td>
<td><img src="https://user-images.githubusercontent.com/76946536/216514541-4dc9b7c4-ea07-407d-9d61-eff105c0dfc2.png" alt="ê³µê°œì±„íŒ…ë°© ì±„íŒ… í˜ì´ì§€2"/></td>
<td><img src="https://user-images.githubusercontent.com/76946536/216514539-eb19d809-360c-47ee-8ece-d5c5386a1847.png" alt="ê³µê°œì±„íŒ…ë°© ì±„íŒ… í˜ì´ì§€3"/></td>
</tr>
</table>

- ì±„íŒ…ë°©ì— ì²˜ìŒ ì…ì¥í•˜ë©´ ì°¸ì—¬ ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ë‹¤.
- ë‹¨ì²´ ë©”ì„¸ì§€ë„ ê°€ëŠ¥í•˜ë‹¤.
- ë’¤ë¡œê°€ê¸°ë¥¼ ëˆ„ë¥´ë©´ êµ¬ë…ì¤‘ì¸ ì±„íŒ…ë°©ì´ ìœ ì§€ê°€ ë˜ê³ , ì±„íŒ…ë°© ë‚˜ê°€ê¸°ë¥¼ ëˆ„ë¥´ë©´ êµ¬ë…ì„ ëŠëŠ”ë‹¤.

### âœ… ê°œì¸ì±„íŒ…ë°© ëª©ë¡ í˜ì´ì§€

<table>
<tr>
<td>
<img src="https://user-images.githubusercontent.com/76946536/216525527-c3a3b472-e014-4402-aebb-bdb0dc96be4c.png" alt="ê°œì¸ì±„íŒ…ë°© ëª©ë¡ í˜ì´ì§€1"/></td>
<td><img src="https://user-images.githubusercontent.com/76946536/216525531-1fc9e922-6a4d-44b0-a274-86378c1ef796.png" alt="ê°œì¸ì±„íŒ…ë°© ëª©ë¡ í˜ì´ì§€2"/></td></tr></table>

- ëª¨ë“  ìœ ì €ì˜ ë‹‰ë„¤ì„ ì •ë³´ê°€ ë‚˜ì˜¨ë‹¤.
- ì±„íŒ… ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ìœ ì €ì™€ì˜ 1ëŒ€1 ê°œì¸ ì±„íŒ…ë°©ìœ¼ë¡œ ì´ë™í•œë‹¤.
- í˜„ì¬ ì ‘ì†ì¤‘ì¸ ìœ ì €ì˜ ë‹‰ë„¤ì„ ì˜†ì—ëŠ” `ì ‘ì†ì¤‘`ì´ë¼ê³  í‘œì‹œëœë‹¤.

### âœ… ê°œì¸ì±„íŒ…ë°© ì±„íŒ… í˜ì´ì§€

<table>
<tr>
<td><img src="https://user-images.githubusercontent.com/76946536/216524909-36c4f902-4567-4e81-a7c3-3ecc2f0cc159.png" alt="ê°œì¸ì±„íŒ…ë°© ì±„íŒ… í˜ì´ì§€1"/></td>
<td><img src="https://user-images.githubusercontent.com/76946536/216524913-0c30371e-57a2-4e76-a3df-dddb6ff64e64.png" alt="ê°œì¸ì±„íŒ…ë°© ì±„íŒ… í˜ì´ì§€2"/></td>
</tr>
</table>

- ê³µê°œì±„íŒ…ë°©ê³¼ ë™ì¼í•œ í˜•ì‹ìœ¼ë¡œ ì±„íŒ…ì´ ì§„í–‰ëœë‹¤.
- ìƒëŒ€ë°©ì´ ì½ì§€ ì•Šì•˜ìœ¼ë©´ ë©”ì‹œì§€ ì˜†ì— 1ì´ë¼ê³  í‘œì‹œê°€ ëœë‹¤.

---

## ğŸ“— í•™ìŠµ ë‚´ìš© ë° ì½”ë“œ ë¶„ì„

### â­ STOMP

### â­ build.gradle

```gradle
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.0.1'
    id 'io.spring.dependency-management' version '1.1.0'
    // querysl
    id "com.ewerk.gradle.plugins.querydsl" version "1.0.10"
}

group = 'com.example.woong99'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '17'

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-security'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'mysql:mysql-connector-java'
    implementation 'org.springframework.boot:spring-boot-starter-websocket'
    // ====================stomp======================
    implementation group: 'org.webjars', name: 'stomp-websocket', version: '2.3.3-1'
    // ====================stomp======================
    // ====================jwt========================
    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'
    implementation 'io.jsonwebtoken:jjwt-impl:0.11.5'
    implementation 'io.jsonwebtoken:jjwt-jackson:0.11.5'
    // ====================jwt========================
    // ==================querydsl=====================
    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'
    annotationProcessor "com.querydsl:querydsl-apt:${dependencyManagement.importedProperties['querydsl.version']}:jakarta"
    annotationProcessor "jakarta.annotation:jakarta.annotation-api"
    annotationProcessor "jakarta.persistence:jakarta.persistence-api"
    // ==================querydsl=====================
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    runtimeOnly 'com.h2database:h2'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.springframework.security:spring-security-test'
    testCompileOnly 'org.projectlombok:lombok'
    testAnnotationProcessor 'org.projectlombok:lombok'
}

tasks.named('test') {
    useJUnitPlatform()
}

// ========================querydsl=======================
def querydslDir = "$buildDir/generated/querydsl"

querydsl {
    jpa = true
    querydslSourcesDir = querydslDir
}

sourceSets {
    main.java.srcDir querydslDir
}

configurations {
    querydsl.extendsFrom compileClasspath
}

compileQuerydsl {
    options.annotationProcessorPath = configurations.querydsl
}

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
    querydsl.extendsFrom compileClasspath
}
// ========================querydsl=======================
```

---

## ì°¸ê³ ìë£Œ

- https://velog.io/@jkijki12/%EC%B1%84%ED%8C%85-STOMP-JWT
